<div class="modal-overlay" *ngIf="isOpen">
    <div class="modal-container" (click)="$event.stopPropagation()">
        <div class="modal-header">
            <h2 class="modal-title">Dice Level Selector</h2>
            <i class="fa fa-times close-icon" (click)="close()"></i>
        </div>

        <div class="modal-content">
            <div *ngIf="!isByLevel">
                <div class="images-container">
                    <div *ngFor="let die of displayedDice; let i = index" class="dice-container">
                     
                       <div class="icon-top">
                        <button (click)="nextDie(i, die.DiceLevel)">
                          <i class="fas fa-chevron-up"></i>
                        </button>
                      </div>
                
                      <img 
                        [src]="die.Faces[0].CrestImage"
                        alt="Crest Image"
                        class="crest-image-by-dice" />
                
                      <div class="icon-bottom">
                        <button (click)="prevDie(i, die.DiceLevel)">
                          <i class="fas fa-chevron-down"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="roll-button-container">
                    <button class="roll-button" (click)="rollDice()" >Roll</button>
                  </div>
            </div>

            <div *ngIf="isByLevel">
                <div class="images-container">
                    <div *ngFor="let die of dice">
                        <img [src]="die.Faces[0].CrestImage" (click)="onLevelClick(die)" alt="Crest Image"
                            class="crest-image" />
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <div class="switch-container">
                <label class="switch">
                    <input type="checkbox" [(ngModel)]="isByLevel" />
                    <span class="slider"></span>
                </label>
                <span>{{ isByLevel ? 'Level' : 'Dice' }}</span>
            </div>
        </div>
    </div>
</div>

<app-dice-roller-modal></app-dice-roller-modal>